# TestTaskPizza
Тестовое задание компании 3dEYE
1 Исходные данные
Есть пиццерия, нужна возможность совершать заказ определённой пиццы (по определенному рецепту - например, гавайская. 
Внутри пиццы должны находиться ингредиенты для этой пиццы). 
При этом должна быть возможность попросить приготовить пиццу без определённых ингредиентов (Если у покупателя аллергия)
Должна быть возможность добавить свои ингредиенты к обычному рецепту пиццы (+ сыр, или + бекон, например)
Предусмотреть, что в будущем в пиццерии может заказываться не только пицца, но и некоторые другие блюда.
Учитывать остаток ингредиентов на складе. 
Когда что-то заканчивается, то посылать сообщение поставщику «курица закончилась, везите курицу».
2 Обработка предметной области
2.1 Бизнес-понятия
1.Пиццерия торгует блюдами.
2.Основное блюдо: пиццы.
3.Пицца имеет рецепт.
4.Рецепт состоит из ингредиентов.
5.Ингредиенты являются продуктами.
6.Продукты хранятся на складе.
7.В будущем, ассортимент может быть расширен другими видами блюд (картошка-фри, салаты, горячее), а также комбо-наборами (пицца+Кока-колой+чипсы). 
2.2 Ассортимент
Ассортимент или продукция (при условии расширения) может состоять из:
1.Блюд:
a.пицца;
b.соусы;
c.салаты;
d.горячие блюда;
e.и т.д.
2.Напитков:
a.вода газированная и негазированная;
b.соки натуральные;
c.и т.д.
3.Готовой продукции:
a.чипсы;
b.сухарики;
c.соусы «Heinz» 
d.и т.д.
4.Кондитерские изделия.
2.3 Допущения
1.В приложении нет пользователей. Соответственно, нет разграничений на админов, клиентов и т.д. Принимаем, по умолчанию, что работает кассир, который принимает заказ от клиента и отправляет его на кухню.
2.Склад один (в рамках текущей задачи).
3.Учет продуктов количественно-суммовой.
4.Продукты списываются по среднему методу.
5.Каждая продукция имеет рецепт, в котором может быть 1 или более ингредиентов.
6.Цена продажи устанавливается справочной информацией, без сложных схем наценки в виде процентов, сумм; округлений до целых 100 или 500; контроля наценки и т.д.
7.Единица измерения являются «штуки», что эквивалентно килограммам для ингредиентов:
●если продукт «Картошка» закупили у поставщика в количестве 2,6 шт, то это равняется 2 кг 600 г.
●если блюдо «Пицца гавайская» заказали в количестве 2 шт, то это равняется 2 шт.
8.Документ «Заказ блюда» в конечном успешном статусе уменьшает остатки продуктов.
9.Отменить «Заказ блюда» нельзя. Можно отдельным документом. Для уменьшения заморочек по холдированию и прочим действиям по снижению остатков. 
10.Документ «Заявка поставщику» в конечном успешном статусе не увеличивает остатки. Потому что момент от заявки до прихода продукта имеет временной лаг, во время которого может случиться так, что некоторая часть продуктов не придет (причины разные). Поэтому увеличивать остатки должен другой документ «Поступление продукта».  
11.Если продукт заканчивается на складе, то мы просто формируем документ «Заявка поставщику», без отправки сообщений и прочего. 
3 Справочники
3.1 Продукция
Блюдо описывается следующими понятиями:
●название;
●группа продукции;
●рецепт.
3.2 Рецепт
Рецепт состоит из:
●названия;
●ингредиенты:
○продукт;
○кол-во.
Таким образом, есть следующие правила:
1.Стоимость блюда (или продукции) формируется из стоимости ингредиентов.
2.Цена ингредиента не должна быть ниже цены закупа продукта (больше либо равно).
3.3 Продукты
Продукты описываются следующими понятиями:
●название;
●неснижаемый остаток;
●цена продажная.
3.4 Клиенты
●название;
●тип: поставщик или покупатель;
●номер телефона;
●e-mail.
4 Документы и учет
4.1 Учет остатков
Остатки описываются следующими понятиями:
●продукт;
●кол-во;
●средняя цена закупа.
4.2 Документ «Заявка поставщику»
Табличная часть «Заказанные продукты»:
●продукт;
●кол-во;
●цена закупа;
●сумма закупа.
Правила:
1.Цена и сумма закупа должны быть проставлены в конечном успешном статусе.
